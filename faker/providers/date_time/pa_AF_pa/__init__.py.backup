# datetime_provider_ps_af.py  (Pashto - ps_AF)

from faker.providers.date_time import Provider as DateTimeProvider
import datetime


class Provider(DateTimeProvider):
    """DateTime provider for Pashto Afghanistan using Gregorian calendar."""

    # Pashto day names (starting from Saturday, as common in Afghanistan calendars)
    day_names = (
        "پيلنۍ",  # Saturday
        "يونۍ",  # Sunday
        "دونۍ",  # Monday
        "منځنۍ",  # Tuesday
        "څلورنۍ",  # Wednesday
        "پينځنۍ",  # Thursday
        "جمعه",  # Friday
    )

    # Pashto month names (Solar Hijri - kept for display, but we'll map to Gregorian months)
    month_names = (
        "",  # index 0 unused
        "وری",  # Hamal (1) ~ March/April
        "غويی",  # Sawr (2) ~ April/May
        "غبرګولی",  # Jawza (3) ~ May/June
        "چنګاښ",  # Saratān (4) ~ June/July
        "زمری",  # Asad (5) ~ July/August
        "وږی",  # Sonbola (6) ~ August/September
        "تله",  # Mizān (7) ~ September/October
        "لړم",  # Aqrab (8) ~ October/November
        "لیندۍ",  # Qaws (9) ~ November/December
        "مرغومی",  # Jadi (10) ~ December/January
        "سلواغه",  # Dalwa (11) ~ January/February
        "کب",  # Hut (12) ~ February/March
    )

    # Map Gregorian months (1-12) to Pashto month names
    gregorian_to_pashto_month = {
        1: "مرغومی",  # January
        2: "سلواغه",  # February
        3: "کب",  # March
        4: "وری",  # April
        5: "غويی",  # May
        6: "غبرګولی",  # June
        7: "چنګاښ",  # July
        8: "زمری",  # August
        9: "وږی",  # September
        10: "تله",  # October
        11: "لړم",  # November
        12: "لیندۍ",  # December
    }

    def day_of_week(self) -> str:
        """Return Pashto day name for Gregorian date."""
        day = self.date_object().weekday()  # 0 = Monday
        afg_index = (day + 2) % 7  # Shift so Saturday = 0
        return self.day_names[afg_index]

    def month_name(self) -> str:
        """Return Pashto month name for Gregorian date."""
        gregorian_month = self.date_object().month
        return self.gregorian_to_pashto_month.get(gregorian_month, self.month_names[gregorian_month])

    def date_shamsi(self, pattern: str = "%Y/%m/%d") -> str:
        """Return date in Gregorian format with Pashto month names."""
        date_obj = self.date_object()
        # Just format as Gregorian date
        return date_obj.strftime(pattern)

    def date_time_shamsi(self) -> str:
        """Example: پنجشنبه، ۴ مرغومی ۱۴۰۴، ساعت ۱۴:۳۰"""
        dt_obj = self.date_time()
        day_name = self.day_of_week()
        hour = dt_obj.strftime("%H")
        minute = dt_obj.strftime("%M")
        day = dt_obj.day
        month_name = self.gregorian_to_pashto_month.get(dt_obj.month, self.month_names[dt_obj.month])
        year = dt_obj.year

        return f"{day_name}، {day} {month_name} {year}، ساعت {hour}:{minute}"